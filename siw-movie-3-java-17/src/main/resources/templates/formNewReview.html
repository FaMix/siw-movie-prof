<!DOCTYPE html>
<html>
  <head>
    <title>New Review</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="/css/stile.css" />
    <link rel="stylesheet" href="/css/stileForm.css" />
  </head>

  <body>
    <header th:insert="~{/fragments/fragments.html :: header}"></header>
    <div class="container text-center">
      <a href="/">
        <img src="/images/logo-siw.png" width="50%" />
      </a>
      <h1>Scrivi una recensione</h1>
      <div class="form-container">
        <form th:action="@{'/review/'+${movieId}}" method="POST" th:object="${review}">
          <div th:if="${#fields.hasGlobalErrors()}">
							<p th:each="err : ${#fields.globalErrors()}" th:text="${err}">...</p>
			</div>
				<input type="hidden" th:name="username" th:value="${userDetails.username}" />
			<div class="form-group">
				<input type="text" th:field="${review.title}" placeholder=" "/>
				<label>Titolo</label>
				<span th:if="${#fields.hasErrors('title')}" th:errors="*{title}"></span>
			</div>
			<div class="form-group">
				<textarea rows = "5" cols = "60" th:field="${review.text}" placeholder=" "/></textarea>
				<label>Scrivi qui il testo</label>
				<span th:if="${#fields.hasErrors('text')}" th:errors="*{text}"></span>
			</div>
			<div>
				<select name="voti" th:field="${review.grade}">
					    	<option value="" hidden>Voto</option>
							<option value="1">1</option>
							<option value="2">2</option>
							<option value="3">3</option>
							<option value="4">4</option>
							<option value="5">5</option>
						</select>
			</div>
			<div class="form-group mt-3">
				<button type="submit">Conferma</button>
			</div>
		</form>
				</div>
			</div>
		</body>
	</html>